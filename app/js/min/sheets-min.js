"use strict";function init(){scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),camera.position.z=10,listener=new THREE.AudioListener,camera.add(listener),renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!1}),renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(new THREE.Color(Math.random(),Math.random(),Math.random())),$("#threeJSContainer").append(renderer.domElement),window.addEventListener("resize",function(){renderer.setSize(window.innerWidth,window.innerHeight),camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix()}),hemilight=new THREE.HemisphereLight(16777215,16777215,.6),scene.add(hemilight);var e=new THREE.Object3D;e.position.set(0,0,0);var t=new THREE.Audio(listener);t.load("../audio/"+sheets.weatherAudio[0]),t.setRefDistance(4),t.autoplay=!0,t.source.loop=!0;var i=new THREE.Audio(listener);i.load("../audio/"+sheets.weatherAudio[1]),i.setRefDistance(4),i.autoplay=!0,i.source.loop=!0;var n=new THREE.Audio(listener);n.load("../audio/"+sheets.weatherAudio[2]),n.setRefDistance(4),n.autoplay=!0,n.source.loop=!0;var o=new THREE.Audio(listener);o.load("../audio/"+sheets.weatherAudio[3]),o.setRefDistance(4),o.autoplay=!0,o.source.loop=!0;for(var a=0;a<sheets.day.length;a++)sheets.pt[a]=sheets.day[a]+": "+sheets.text[a],sheets.highLow[a]="High: "+sheets.tempHigh[a]+", Low: "+sheets.tempLow[a];var r=new THREE.MeshPhongMaterial({overdraw:.1,color:0}),s=new THREE.TextGeometry(sheets.pt[0],{size:textSize,height:textHeight,curveSegments:2,font:"helvetiker"}),l=new THREE.Mesh(s,r),c=new THREE.TextGeometry(sheets.pt[1],{size:textSize,height:textHeight,curveSegments:2,font:"helvetiker"}),d=new THREE.Mesh(c,r),E=new THREE.TextGeometry(sheets.pt[2],{size:textSize,height:textHeight,curveSegments:2,font:"helvetiker"}),p=new THREE.Mesh(E,r),h=new THREE.TextGeometry(sheets.pt[3],{size:textSize,height:textHeight,curveSegments:2,font:"helvetiker"}),m=new THREE.Mesh(h,r),u=new THREE.TextGeometry(sheets.highLow[0],{size:textSize,height:textHeight,curveSegments:2,font:"helvetiker"}),w=new THREE.Mesh(u,r),g=new THREE.TextGeometry(sheets.highLow[1],{size:textSize,height:textHeight,curveSegments:2,font:"helvetiker"}),T=new THREE.Mesh(g,r),R=new THREE.TextGeometry(sheets.highLow[2],{size:textSize,height:textHeight,curveSegments:2,font:"helvetiker"}),H=new THREE.Mesh(R,r),x=new THREE.TextGeometry(sheets.highLow[3],{size:textSize,height:textHeight,curveSegments:2,font:"helvetiker"}),S=new THREE.Mesh(x,r),P=new THREE.BoxGeometry(40,20,2),y=new THREE.MeshPhongMaterial({color:13034239,transparent:!0,wireframe:!1,opacity:planeOpacity});sheets.plane[0]=new THREE.Mesh(P,y),sheets.plane[0].position.set(0,0,-50),scene.add(sheets.plane[0]);var z=new THREE.BoxGeometry(40,20,2),C=new THREE.MeshPhongMaterial({color:13034239,transparent:!0,wireframe:!1,opacity:planeOpacity});sheets.plane[1]=new THREE.Mesh(z,C),sheets.plane[1].position.set(0,0,-100),scene.add(sheets.plane[1]);var f=new THREE.BoxGeometry(40,20,2),v=new THREE.MeshPhongMaterial({color:13034239,transparent:!0,wireframe:!1,opacity:planeOpacity});sheets.plane[2]=new THREE.Mesh(f,v),sheets.plane[2].position.set(0,0,-150),scene.add(sheets.plane[2]);var k=new THREE.BoxGeometry(40,20,2),M=new THREE.MeshPhongMaterial({color:13034239,transparent:!0,wireframe:!1,opacity:planeOpacity});sheets.plane[3]=new THREE.Mesh(k,M),sheets.plane[3].position.set(0,0,-200),scene.add(sheets.plane[3]),l.position.y=sheets.plane[0].position.y+6,l.position.x=sheets.plane[0].position.x-20,sheets.plane[0].add(l),d.position.y=sheets.plane[1].position.y+6,d.position.x=sheets.plane[1].position.x-20,sheets.plane[1].add(d),p.position.y=sheets.plane[2].position.y+6,p.position.x=sheets.plane[2].position.x-20,sheets.plane[2].add(p),m.position.y=sheets.plane[3].position.y+6,m.position.x=sheets.plane[3].position.x-20,sheets.plane[3].add(m),w.position.y=sheets.plane[0].position.y-2,w.position.x=sheets.plane[0].position.x-20,sheets.plane[0].add(w),T.position.y=sheets.plane[1].position.y-2,T.position.x=sheets.plane[1].position.x-20,sheets.plane[1].add(T),H.position.y=sheets.plane[2].position.y-2,H.position.x=sheets.plane[2].position.x-20,sheets.plane[2].add(H),S.position.y=sheets.plane[3].position.y-2,S.position.x=sheets.plane[3].position.x-20,sheets.plane[3].add(S),console.log(sheets.highLow),sheets.plane[0].add(t),sheets.plane[1].add(i),sheets.plane[2].add(n),sheets.plane[3].add(o),$("#threeJSContainer").bind("mousewheel",function(e){e.preventDefault(),e.originalEvent.wheelDelta>0?camera.position.z-=3:camera.position.z+=3}),rainParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/raindrop.png"),maxAge:2}),scene.add(rainParticles.mesh),snowParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/smokeparticle.png"),maxAge:2}),scene.add(snowParticles.mesh),cloudParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/cloud2.png"),maxAge:2}),scene.add(cloudParticles.mesh),fogParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/smokeparticle.png"),maxAge:5}),scene.add(fogParticles.mesh),clearParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/smokeparticle.png"),maxAge:1}),scene.add(clearParticles.mesh),tCloudParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/darkcloud1.png"),maxAge:5}),scene.add(tCloudParticles.mesh),tRainParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/raindrop.png"),maxAge:2}),scene.add(tRainParticles.mesh)}function render(){requestAnimationFrame(render),sheets.plane[0].position.z+=planeSpeed,sheets.plane[1].position.z+=planeSpeed,sheets.plane[2].position.z+=planeSpeed,sheets.plane[3].position.z+=planeSpeed,snowParticles.tick(.004),rainParticles.tick(.01),cloudParticles.tick(.004),tCloudParticles.tick(.034),tRainParticles.tick(.014),clearParticles.tick(.014),fogParticles.tick(.1),renderer.render(scene,camera)}function toggleFullScreen(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}function initSnowParticles(){initSnowParticles.called=!0,snowParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/smokeparticle.png"),maxAge:2}),emitter=new SPE.Emitter({position:new THREE.Vector3(0,0,0),positionSpread:new THREE.Vector3(40,20,30),acceleration:new THREE.Vector3(0,-20,0),accelerationSpread:new THREE.Vector3(0,0,0),velocity:new THREE.Vector3(0,0,0),velocitySpread:new THREE.Vector3(20,10,0),colorStart:new THREE.Color("white"),colorEnd:new THREE.Color("blue"),sizeStart:1.4,sizeEnd:0,particleCount:5e3,opacityStart:1,opacityEnd:1}),emitter.position.set=new THREE.Vector3(0,0,0),snowParticles.addEmitter(emitter);plane.add(snowParticles.mesh)}function initCloudParticles(){initCloudParticles.called=!0,cloudParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/cloud2.png"),maxAge:2});var e=new SPE.Emitter({position:new THREE.Vector3(0,0,0),positionSpread:new THREE.Vector3(40,20,30),colorStart:new THREE.Color("white"),colorEnd:new THREE.Color("black"),sizeStart:100,sizeSpread:100,opacityStart:0,opacityMiddle:.5,opacityEnd:0,particleCount:400});cloudParticles.addEmitter(e),plane.add(cloudParticles.mesh)}function initFogParticles(){initFogParticles.called=!0,fogParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/smokeparticle.png"),maxAge:5}),emitter=new SPE.Emitter({position:new THREE.Vector3(0,0,0),positionSpread:new THREE.Vector3(40,30,30),colorStart:new THREE.Color("grey"),colorStartSpread:new THREE.Vector3(1,1,1),colorEnd:new THREE.Color("grey"),sizeStart:4,sizeSpread:6,opacityStart:0,opacityMiddle:1,opacityEnd:0,particleCount:1e4}),fogParticles.addEmitter(emitter),plane.add(fogParticles.mesh)}function initClearParticles(){initClearParticles.called||(initClearParticles.called=!0,clearParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/smokeparticle.png"),maxAge:1}),emitter=new SPE.Emitter({position:-5,positionSpread:new THREE.Vector3(40,20,10),colorStart:new THREE.Color("white"),colorEnd:new THREE.Color("blue"),sizeStart:3,sizeSpread:4,opacityStart:0,opacityMiddle:.6,opacityEnd:0,particleCount:1e4}),clearParticles.addEmitter(emitter),plane.add(clearParticles.mesh))}function initThunderStormParticles(){initThunderStormParticles.called=!0,tCloudParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/darkcloud1.png"),maxAge:5}),cloudEmitter=new SPE.Emitter({position:new THREE.Vector3(0,10,10),positionSpread:new THREE.Vector3(40,0,40),colorStart:new THREE.Color(16777215),colorEnd:new THREE.Color("black"),sizeStart:100,sizeSpread:20,opacityStart:0,opacityMiddle:1,opacityEnd:0,particleCount:500}),tRainParticles=new SPE.Group({texture:THREE.ImageUtils.loadTexture("images/raindrop.png"),maxAge:2}),rainEmitter=new SPE.Emitter({position:new THREE.Vector3(0,0,0),positionSpread:new THREE.Vector3(40,20,30),acceleration:new THREE.Vector3(0,-200,0),accelerationSpread:new THREE.Vector3(30,30,0),velocity:new THREE.Vector3(0,-500,0),velocitySpread:new THREE.Vector3(20,10,0),colorStart:new THREE.Color("white"),colorEnd:new THREE.Color("white"),sizeStart:.5,sizeEnd:.5,particleCount:3e4}),tCloudParticles.addEmitter(cloudEmitter),tRainParticles.addEmitter(rainEmitter),plane.add(tCloudParticles.mesh),plane.add(tRainParticles.mesh)}var planeText1,planeText2,planeText3,planeText4,textSize=.5,textHeight=.1,scene,camera,listener,renderer,hemilight,weatherSheet,planeSpeed=.015,planeOpacity=.7,snowParticles,rainParticles,cloudParticles,fogParticles,clearParticles,tRainParticles,tCloudParticles,cloudEmitter,rainEmitter,emitter,sheets={day:[],text:[],date:[],tempHigh:[],tempLow:[],highLow:[],pt:[],weatherType:[],weatherAudio:[],weatherGfx:[],plane:[]};
